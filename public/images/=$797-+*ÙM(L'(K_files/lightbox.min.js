YUI({delayUntil:"domready"}).use("node","event",function(Y){var maskNode=Y.Node.create('<div class="lightbox-mask"></div>');var boxNode=null;var closeNode=Y.Node.create('<div data-icon="&#xe016;" class="lightbox-close"></div>');if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host}var base=window.location.origin;if(typeof jwplayer=="undefined"){downloadPlayerAtOnload()}Y.one("body").delegate("click",function(e){e.preventDefault();e.stopPropagation();boxNode=Y.Node.create('<div class="lightbox-box"></div>');var img=e.currentTarget.getData("image");var video=e.currentTarget.getData("video");var link=e.currentTarget.getData("link");var contentNode=null;if(img!=undefined){contentNode=Y.Node.create('<img src="'+img+'" >')}else if(video!=undefined){contentNode=Y.Node.create("<div id='lightbox-player'><p><span class='loader' data-icon='&#xe004;'></span> Chargement...</p></div>")}else if(link!=undefined){contentNode=Y.Node.create("<div id='lightbox-player' class='iframe'><p><span class='loader' data-icon='&#xe004;'></span> Chargement...</p><iframe src='"+link+"' frameborder='0' scrolling='no' ></iframe></div>")}boxNode.setContent("");boxNode.append(contentNode);boxNode.append(closeNode);Y.one("body").append(maskNode);Y.one("body").append(boxNode);var width=window.innerWidth;var windowsHeight=document.documentElement.clientHeight;var playerWidth=640;var playerHeight=360;if(link!=undefined){playerHeight=480}if(width<playerWidth){playerWidth=width}if(windowsHeight<playerHeight){playerHeight=windowsHeight}if(video!=undefined||link!=undefined){boxNode.addClass("lightbox-box-player");boxNode.setStyle("width",playerWidth+"px");boxNode.setStyle("margin-left",-Math.round(playerWidth/2)+"px");boxNode.setStyle("height",playerHeight+"px");boxNode.setStyle("top",Math.round(getSCroll()+windowsHeight/2)+"px");boxNode.setStyle("margin-top",-Math.round(playerHeight/2+10)+"px")}else{if(width<400){boxNode.setStyle("width",width+"px");boxNode.setStyle("margin-left",-(width/2+10)+"px")}}if(video!=undefined){jwplayer.key="tS8RJucEBLhAEVXjazQ+ytvrlS6TQ/bcAocEcg==";var mediaplayer=jwplayer("lightbox-player").setup({width:"100%",height:"100%",autostart:"true",abouttext:"ADN Player v3.0.0",aboutlink:"http://animedigitalnetwork.fr",skin:base+"/components/com_vodvideo/mediaplayer/skin/adn2/adn2.xml",sources:[{file:video+"_mobile.mp4"},{file:video+"_720p.mp4"}]})}},".lightbox");closeNode.on("click",function(e){maskNode.remove();boxNode.remove(true)});maskNode.on("click",function(e){maskNode.remove();boxNode.remove(true)});function downloadPlayerAtOnload(){var element=document.createElement("script");element.src="//video.animedigitalnetwork.fr/jwplayer6/jwplayer.js";document.body.appendChild(element)}function getSCroll(){return window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}});