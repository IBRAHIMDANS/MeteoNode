var showADNBackground;(function(){showADNBackground=function(data){console.log("showADNBackground",data);var background=new ADNBackground(data);background.show()};function ADNBackground(data){this.backgroundNode=document.getElementById("Background-Smart");this.backgroundNodeHeader=document.querySelector(".background-click");this.data=data;this.data.videoSize={w:data.videoSize?data.videoSize.w:160,h:data.videoSize?data.videoSize.h:90};this.data.videoPosition={x:data.videoPosition?data.videoPosition.x:0,y:data.videoPosition?data.videoPosition.y:0}}ADNBackground.prototype.show=function(){this.backgroundNode.style.backgroundImage="url("+this.data.image+")";this.backgroundNode.style.backgroundColor=this.data.color;this.backgroundNode.style.backgroundPosition="center top";this.backgroundNode.style.backgroundRepeat="no-repeat";this.backgroundNode.style.cursor="pointer";this.addVideo();var self=this;this.backgroundNode.addEventListener("click",function(e){window.open(self.data.url,"_blank")});this.backgroundNodeHeader.addEventListener("click",function(e){window.open(self.data.url,"_blank")})};ADNBackground.prototype.addVideo=function(){if(this.data.video==undefined){return}var videoNode=document.createElement("div");videoNode.className="header-video";var video=document.createElement("video");video.src=this.data.video;video.muted=true;var restartButton=document.createElement("div");restartButton.className="header-restart";restartButton.style.display="none";this.backgroundNodeHeader.append(videoNode);videoNode.append(restartButton);videoNode.append(video);videoNode.style.width=this.data.videoSize.w+"px";videoNode.style.height=this.data.videoSize.h+"px";videoNode.style.top=this.data.videoPosition.y+"px";videoNode.style.left=this.data.videoPosition.x+"px";videoNode.addEventListener("mouseenter",function(e){video.muted=false;video.volume=1});videoNode.addEventListener("mouseleave",function(e){video.muted=false;video.volume=0});restartButton.addEventListener("click",function(e){e.stopPropagation();restartButton.style.display="none";video.position=0;video.play()});video.addEventListener("ended",function(e){restartButton.style.display="block"});video.play()}})();